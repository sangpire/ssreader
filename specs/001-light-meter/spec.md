# Feature Specification: 필름 카메라 노출계 (Light Meter)

**Feature Branch**: `001-light-meter`
**Created**: 2026-01-07
**Status**: Draft
**Input**: 자동 노출 기능이 없는 오래된/고장난 필름 카메라 사용자를 위한 노출계 앱. 전체 화면 카메라 뷰, ISO/조리개/셔터스피드 표시, 값 고정 기능, 스와이프 조절, 셔터 버튼으로 화면 정지.

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 실시간 적정 노출 확인 (Priority: P1)

사용자가 필름 카메라로 사진을 찍기 전에, 핸드폰 앱을 통해 현재 빛 조건에서의 적정 노출 값(ISO, 조리개, 셔터스피드)을 실시간으로 확인한다.

**Why this priority**: 이 기능이 앱의 핵심 가치이며, 이것 없이는 앱의 존재 이유가 없음. 필름 카메라 사용자가 노출을 정확하게 맞추기 위한 기본 기능.

**Independent Test**: 앱을 실행하고 카메라를 다양한 밝기의 피사체에 향하게 했을 때 ISO, 조리개, 셔터스피드 값이 실시간으로 변경되는지 확인.

**Acceptance Scenarios**:

1. **Given** 앱이 실행되고 카메라 권한이 허용된 상태, **When** 사용자가 카메라를 피사체에 향함, **Then** 전체 화면에 실시간 카메라 프리뷰가 표시됨
2. **Given** 카메라 프리뷰가 표시된 상태, **When** 빛 조건이 변경됨, **Then** 오른쪽 아래에 표시된 ISO, 조리개(f), 셔터스피드가 적정 노출에 맞게 자동으로 업데이트됨
3. **Given** 밝은 환경에서 어두운 환경으로 카메라 방향 변경, **When** 빛 조건이 변화함, **Then** 노출 값이 1초 이내에 새로운 적정 값으로 업데이트됨

---

### User Story 2 - 특정 값 고정 및 나머지 값 자동 계산 (Priority: P1)

사용자가 필름 카메라의 특정 제약(예: 특정 ISO 필름 사용, 특정 조리개 선호)에 맞춰 하나 이상의 값을 고정하면, 앱이 적정 노출을 위해 나머지 값을 자동으로 계산한다.

**Why this priority**: 실제 필름 카메라 사용 시 필수적인 기능. ISO는 필름에 따라 고정되어야 하고, 조리개나 셔터스피드는 창작 의도에 따라 고정이 필요함.

**Independent Test**: ISO를 100으로 고정한 후 빛 조건을 변경했을 때 ISO는 100으로 유지되고 조리개/셔터스피드만 변경되는지 확인.

**Acceptance Scenarios**:

1. **Given** 노출 값이 표시된 상태, **When** 사용자가 ISO 값을 터치하여 변경함, **Then** ISO가 해당 값으로 고정되고 '고정됨' 상태가 시각적으로 표시됨
2. **Given** ISO가 고정된 상태, **When** 빛 조건이 변경됨, **Then** ISO는 고정된 값을 유지하고 조리개와 셔터스피드 중 고정되지 않은 값이 적정 노출에 맞게 조정됨
3. **Given** 값이 '고정됨' 상태로 표시됨, **When** 사용자가 해당 값을 다시 터치함, **Then** 고정이 해제되고 해당 값도 자동 조정 대상이 됨
4. **Given** ISO와 조리개가 모두 고정된 상태, **When** 빛 조건이 변경됨, **Then** 셔터스피드만 적정 노출에 맞게 조정됨

---

### User Story 3 - 스와이프로 노출 값 조절 (Priority: P2)

사용자가 각 노출 값(ISO, 조리개, 셔터스피드)을 터치한 후 좌우로 스와이프하여 원하는 값으로 쉽게 변경할 수 있다.

**Why this priority**: 사용자 인터랙션의 핵심이지만, 값 표시와 고정 기능이 먼저 동작해야 의미가 있음.

**Independent Test**: ISO 값을 터치하고 오른쪽으로 스와이프하면 값이 증가하고, 왼쪽으로 스와이프하면 감소하는지 확인.

**Acceptance Scenarios**:

1. **Given** ISO 값이 표시된 상태, **When** 사용자가 ISO를 터치하고 오른쪽으로 스와이프함, **Then** ISO 값이 한 단계 증가함 (예: 100 → 200)
2. **Given** 조리개 값이 표시된 상태, **When** 사용자가 조리개를 터치하고 왼쪽으로 스와이프함, **Then** 조리개 값이 한 단계 감소함 (예: f/5.6 → f/4)
3. **Given** 셔터스피드가 표시된 상태, **When** 사용자가 셔터스피드를 터치하고 스와이프함, **Then** 셔터스피드가 표준 스톱 단위로 변경됨 (예: 1/125 → 1/250)

---

### User Story 4 - 셔터 버튼으로 화면 정지 (Priority: P2)

사용자가 노출 값을 확인한 후 셔터 버튼을 눌러 카메라 화면을 정지시키고, 정지된 상태에서도 노출 값을 조절할 수 있다.

**Why this priority**: 실제 촬영 시 유용한 기능이지만, 기본 노출 측정 기능 없이는 사용 불가.

**Independent Test**: 셔터 버튼을 누르면 카메라 화면이 정지되고, 정지된 상태에서 ISO를 변경하면 나머지 값이 재계산되는지 확인.

**Acceptance Scenarios**:

1. **Given** 실시간 카메라 프리뷰가 표시된 상태, **When** 사용자가 하단의 셔터 버튼을 누름, **Then** 카메라 화면이 정지된 이미지처럼 고정됨
2. **Given** 화면이 정지된 상태, **When** 사용자가 ISO 값을 변경함, **Then** 정지된 이미지 기준의 밝기로 나머지 노출 값이 재계산됨
3. **Given** 화면이 정지된 상태, **When** 사용자가 셔터 버튼을 다시 누름, **Then** 실시간 카메라 프리뷰로 복귀함

---

### Edge Cases

- ISO, 조리개, 셔터스피드 세 값 모두 고정된 상태에서 빛 조건이 변경되면 어떻게 되는가? → 사용자에게 노출 과다/부족 경고 표시
- 극단적으로 밝거나 어두운 환경에서 적정 노출 범위를 벗어나면 어떻게 되는가? → 측정 가능한 범위의 최대/최소 값을 표시하고 경고 표시
- 카메라 권한이 거부된 상태에서 앱을 실행하면 어떻게 되는가? → 권한 요청 안내 화면 표시
- 앱이 백그라운드로 이동했다가 복귀하면 어떻게 되는가? → 실시간 모드로 복귀 (정지 상태 해제)

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 시스템은 전체 화면으로 실시간 카메라 프리뷰를 표시해야 한다
- **FR-002**: 시스템은 현재 빛 조건에 기반한 적정 노출 값(ISO, 조리개, 셔터스피드)을 화면 오른쪽 아래에 표시해야 한다
- **FR-003**: 시스템은 빛 조건 변화에 따라 노출 값을 실시간으로 업데이트해야 한다
- **FR-004**: 사용자는 각 노출 값(ISO, 조리개, 셔터스피드)을 개별적으로 고정할 수 있어야 한다
- **FR-005**: 고정된 값은 '고정됨' 상태로 시각적으로 구분되어 표시되어야 한다
- **FR-006**: 고정된 값을 다시 터치하면 고정이 해제되어야 한다
- **FR-007**: 하나 이상의 값이 고정되면, 시스템은 고정되지 않은 값을 적정 노출에 맞게 자동 조정해야 한다
- **FR-008**: 사용자는 각 값을 터치 후 좌우 스와이프로 값을 변경할 수 있어야 한다
- **FR-009**: 오른쪽 스와이프는 값 증가, 왼쪽 스와이프는 값 감소로 동작해야 한다
- **FR-010**: 화면 하단에 셔터 버튼이 표시되어야 한다
- **FR-011**: 셔터 버튼을 누르면 카메라 화면이 정지된 이미지로 표시되어야 한다
- **FR-012**: 화면이 정지된 상태에서도 ISO, 조리개, 셔터스피드 값을 조절할 수 있어야 한다
- **FR-013**: 정지된 상태에서 셔터 버튼을 다시 누르면 실시간 프리뷰로 복귀해야 한다
- **FR-014**: 세 값 모두 고정된 상태에서 노출이 적정하지 않으면 사용자에게 경고를 표시해야 한다
- **FR-015**: 측정 가능한 범위를 벗어나는 극단적 조건에서는 범위 한계와 경고를 표시해야 한다

### Key Entities

- **노출 설정 (Exposure Settings)**: ISO, 조리개(f-stop), 셔터스피드의 조합. 각 값은 고정/비고정 상태를 가짐
- **측광 값 (Metered Value)**: 카메라 센서로부터 측정된 현재 빛의 밝기 (EV 값)
- **적정 노출 (Correct Exposure)**: 측광 값을 기준으로 계산된 ISO, 조리개, 셔터스피드의 적절한 조합

### Assumptions

- ISO 값은 표준 필름 ISO 값을 따름 (예: 50, 100, 200, 400, 800, 1600, 3200)
- 조리개 값은 표준 f-stop 단위를 따름 (예: f/1.4, f/2, f/2.8, f/4, f/5.6, f/8, f/11, f/16, f/22)
- 셔터스피드는 표준 스톱 단위를 따름 (예: 1/8000, 1/4000, 1/2000, 1/1000, 1/500, 1/250, 1/125, 1/60, 1/30, 1/15, 1/8, 1/4, 1/2, 1초)
- 노출 계산은 표준 사진학 공식(Sunny 16 rule 및 EV 계산)에 기반함
- 기본값: 모든 값이 비고정 상태로 시작, 앱은 가장 일반적인 값 범위(ISO 100-3200, f/2-f/16, 1/4000-1초)를 우선 표시

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 사용자가 앱을 실행하고 5초 이내에 적정 노출 값을 확인할 수 있어야 함
- **SC-002**: 빛 조건 변화 시 노출 값이 1초 이내에 업데이트되어야 함
- **SC-003**: 사용자가 값 고정/해제를 2번의 터치 이내에 완료할 수 있어야 함
- **SC-004**: 스와이프로 값 변경 시 즉각적인 피드백(0.3초 이내)이 있어야 함
- **SC-005**: 95%의 일반적인 촬영 조건(실내 조명 ~ 야외 맑은 날)에서 정확한 노출 값을 제공해야 함
- **SC-006**: 필름 카메라 사용자가 첫 사용 시 별도 설명 없이 주요 기능을 이해하고 사용할 수 있어야 함
